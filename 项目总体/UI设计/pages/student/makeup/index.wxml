<view class="makeup-page">
  <view class="header">
    <text class="title">è¡¥ç­¾ç”³è¯·</text>
    <text class="subtitle">ç”³è¯·è¡¥ç­¾å·²ç¼ºå‹¤çš„è¯¾ç¨‹</text>
  </view>

  <view class="absent-courses">
    <text class="section-title">å¾…è¡¥ç­¾è¯¾ç¨‹</text>
    <view class="course-list">
      <view class="course-item" wx:for="{{absentCourses}}" wx:key="id" bindtap="selectCourse" data-id="{{item.id}}">
        <view class="course-header">
          <text class="course-name">{{item.courseName}}</text>
          <view class="course-date">{{item.date}}</view>
        </view>
        <view class="course-details">
          <text class="teacher">{{item.teacher}}</text>
          <text class="status">{{item.status}}</text>
        </view>
        <view class="checkbox" data-selected="{{item.selected}}"></view>
      </view>
    </view>
  </view>

  <view class="form-section">
    <text class="section-title">è¡¥ç­¾åŸå› </text>
    <view class="form-group">
      <label>ç¼ºå‹¤åŸå›  <text class="required">*</text></label>
      <picker mode="selector" range="{{reasons}}" bindchange="onReasonChange">
        <view class="picker-input">
          <text>{{reasons[reasonIndex]}}</text>
        </view>
      </picker>
    </view>

    <view class="form-group">
      <label>è¯¦ç»†è¯´æ˜ <text class="required">*</text></label>
      <textarea 
        class="textarea" 
        placeholder="è¯·è¯¦ç»†è¯´æ˜ç¼ºå‹¤åŸå› ï¼ˆ100å­—ä»¥å†…ï¼‰"
        model:value="{{description}}"
        maxlength="100"
      ></textarea>
      <text class="char-count">{{description.length}}/100</text>
    </view>

    <view class="form-group">
      <label>ä¸Šä¼ è¯æ˜ææ–™</label>
      <view class="upload-area" bindtap="uploadFile">
        <text class="upload-icon">ğŸ“</text>
        <text class="upload-text">ç‚¹å‡»ä¸Šä¼ æ–‡ä»¶</text>
        <text class="upload-hint">æ”¯æŒå›¾ç‰‡ã€PDFç­‰æ–‡ä»¶</text>
      </view>
      <view class="uploaded-files">
        <view class="file-item" wx:for="{{attachments}}" wx:key="id">
          <text class="file-icon">ğŸ“„</text>
          <text class="file-name">{{item.name}}</text>
          <text class="delete-btn" bindtap="deleteFile" data-id="{{item.id}}">âœ•</text>
        </view>
      </view>
    </view>
  </view>

  <view class="actions">
    <button class="btn-submit" bindtap="submitApplication">æäº¤ç”³è¯·</button>
    <button class="btn-cancel" bindtap="backHome">è¿”å›</button>
  </view>
</view>
