<view class="attendance-container">
  <!-- ç­›é€‰å™¨ -->
  <view class="filter-section">
    <view class="filter-group">
      <picker class="filter-picker" bindchange="onTermChange" value="{{termIndex}}" range="{{terms}}">
        <view class="filter-text">{{terms[termIndex]}}</view>
      </picker>
      <picker class="filter-picker" bindchange="onCourseChange" value="{{courseIndex}}" range="{{courses}}">
        <view class="filter-text">{{courses[courseIndex]}}</view>
      </picker>
    </view>
    <view class="filter-tabs">
      <view class="filter-tab" data-status="all" bindtap="filterByStatus">å…¨éƒ¨</view>
      <view class="filter-tab" data-status="present" bindtap="filterByStatus">æ­£å¸¸</view>
      <view class="filter-tab" data-status="late" bindtap="filterByStatus">è¿Ÿåˆ°</view>
      <view class="filter-tab" data-status="absent" bindtap="filterByStatus">ç¼ºå‹¤</view>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ‘˜è¦ -->
  <view class="summary-card">
    <view class="summary-item">
      <text class="summary-label">ç­¾åˆ°æ¬¡æ•°</text>
      <text class="summary-value">{{totalCount}}</text>
    </view>
    <view class="summary-item">
      <text class="summary-label">å‡ºå‹¤çŽ‡</text>
      <text class="summary-value">{{attendanceRate}}%</text>
    </view>
    <view class="summary-item">
      <text class="summary-label">ç¼ºå‹¤æ¬¡æ•°</text>
      <text class="summary-value">{{absentCount}}</text>
    </view>
  </view>

  <!-- è€ƒå‹¤è®°å½•åˆ—è¡¨ -->
  <view class="records-list">
    <view class="record-item" wx:for="{{records}}" wx:key="id" bindtap="viewDetails" data-id="{{item.id}}">
      <view class="record-header">
        <text class="record-course">{{item.courseName}}</text>
        <view class="record-status" data-status="{{item.status}}">
          {{item.statusText}}
        </view>
      </view>
      <view class="record-details">
        <text class="record-date">{{item.date}}</text>
        <text class="record-time">{{item.checkInTime}}</text>
      </view>
      <view class="record-footer" wx:if="{{item.status === 'absent'}}">
        <button class="btn-makeup" bindtap="applyMakeup" data-id="{{item.id}}">ç”³è¯·è¡¥ç­¾</button>
      </view>
    </view>

    <view class="empty-state" wx:if="{{records.length === 0}}">
      <text class="empty-icon">ðŸ“­</text>
      <text class="empty-text">æš‚æ— è®°å½•</text>
    </view>
  </view>

  <!-- åˆ†é¡µ -->
  <view class="pagination" wx:if="{{records.length > 0}}">
    <button class="btn-page" disabled="{{page === 1}}">ä¸Šä¸€é¡µ</button>
    <text class="page-info">ç¬¬ {{page}} é¡µ</text>
    <button class="btn-page">ä¸‹ä¸€é¡µ</button>
  </view>
</view>
