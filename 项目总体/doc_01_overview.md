# 智能考勤小程序 - 系统概述

## 一、项目背景

开发一款基于微信小程序的智能考勤系统，解决传统课堂考勤效率低、易作弊、统计困难等问题。

## 二、核心目标

- **高效性**：简化签到流程，3步内完成签到
- **防作弊**：多重验证机制（定位+二维码+人脸）
- **人性化**：支持补签申请，兼顾管理严格性
- **智能化**：自动统计分析，数据可视化

## 三、技术方案

### 3.1 定位验证
- GPS定位获取学生位置
- 判断是否在教室有效范围内（默认50米）
- WiFi辅助定位提高室内精度
- 记录定位数据供后续核查

### 3.2 二维码验证
- 教师端生成动态二维码（30秒刷新）
- 二维码包含：课程ID、批次ID、时间戳、加密签名
- 学生扫码验证身份和时效性
- 防止截图传播

### 3.3 人脸识别（可选）
- 活体检测：眨眼、点头等动作
- 与预录入人脸数据比对
- 相似度阈值验证
- 符合隐私保护法规

### 3.4 数据存储
- 微信云开发/云数据库
- 支持高并发访问
- 定期自动备份
- 数据加密存储

## 四、用户角色

### 4.1 学生
- 查看课程安排
- 完成签到
- 查询考勤记录
- 提交补签申请

### 4.2 教师
- 管理课程
- 发起签到
- 实时监控签到进度
- 审批补签申请
- 查看考勤统计

### 4.3 辅导员
- 查看年级/班级考勤概况
- 识别预警学生
- 审批特殊补签（公假）
- 学生跟进管理

### 4.4 教务管理员
- 用户管理
- 课程管理
- 全局统计
- 系统配置

## 五、签到策略

### 5.1 高安全模式
- 验证：定位 + 二维码 + 人脸
- 适用：重要课程、考试
- 时长：约1-2分钟

### 5.2 标准模式（推荐）
- 验证：定位 + 二维码
- 适用：日常课程
- 时长：约30秒

### 5.3 便捷模式
- 验证：仅二维码
- 适用：小班课、室外课
- 时长：约10秒

## 六、核心功能模块

### 6.1 签到模块
- 多重验证
- 实时反馈
- 异常处理

### 6.2 统计模块
- 个人考勤统计
- 课程考勤分析
- 班级出勤对比
- 趋势分析

### 6.3 补签模块
- 在线申请
- 材料上传
- 流程审批
- 结果通知

### 6.4 管理模块
- 用户管理
- 课程管理
- 权限配置
- 数据导出

## 七、技术架构

```
前端：微信小程序
  ├─ 学生端
  ├─ 教师端
  ├─ 辅导员端
  └─ 管理员端

后端：Node.js / Python
  ├─ 用户服务
  ├─ 签到服务
  ├─ 统计服务
  └─ 消息服务

数据层：
  ├─ 云数据库（用户、课程、记录）
  ├─ 对象存储（图片、文件）
  └─ 缓存（Redis）
```

## 八、系统优势

1. **相比传统点名**
   - 节省5-10分钟课堂时间
   - 数据自动记录无遗漏
   - 客观公正

2. **相比单一验证**
   - 多重验证更安全
   - 策略灵活可选
   - 数据可追溯

3. **相比其他系统**
   - 基于微信，无需安装APP
   - 界面简洁易用
   - 功能完整覆盖全流程
   - 数据分析能力强

## 九、数据库设计概要

### 9.1 核心数据表
- **用户表**：学生、教师、管理员信息
- **课程表**：课程基本信息、时间地点
- **选课表**：学生-课程关系
- **签到记录表**：每次签到详细数据
- **补签申请表**：申请和审批记录

### 9.2 关键字段
- 用户表：用户ID、姓名、学号/工号、角色、人脸数据
- 签到记录：记录ID、用户ID、课程ID、时间、状态、位置、验证方式
- 补签申请：申请ID、记录ID、类型、理由、材料、状态、审批意见

## 十、开发规划

### 第一阶段：MVP版本
- 基础签到功能（定位+二维码）
- 考勤记录查询
- 简单统计
- 补签申请

### 第二阶段：完善功能
- 人脸识别
- 详细统计分析
- 预警机制
- 批量操作

### 第三阶段：优化迭代
- 性能优化
- UI/UX改进
- 更多数据分析维度
- 与教务系统对接